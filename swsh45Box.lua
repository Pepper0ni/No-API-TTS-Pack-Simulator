art={"1669110667999459984/93E4EE245F754F81746D9FB7240583A939E34D83",
 "1669110667999460622/085FC5B14A5C838B8368C8FA56AD2EEE4C82681C",
 "1669110667999461229/D45D9C4260F329375746011DCFDC2AEF14F22619",
 "1669110667999461992/0B2A47333BC6D7F3FE5D9334D28C81576D06BC5D"
}
setName="Shining Fates"
DeckID=13237
date="20210219"
setID="swsh45"
subSetID="swsh45sv"
subSetName="Shining Fates Shiny Vault"
subSetPre="SV"
dropSlots=[[{
--1 U
  {cards={'5','7','12','15','23','28','32','34','57','59','61','62','63'},num=3},
--2 energy
  {cards={{"1","8"}},num=1,size=8,prefix="E",energy=true},
--3 RR
  {cards={'73'},num=0},
--4 FA sup
  {cards={{'65','72'}},size=8,num=0},
--5 alcreme
  {cards={'64'},num=0},
--6 Vmax
  {cards={'10','19','38','45','51','55'},num=0},
--7 V
  {cards={'9','18','37','39','44','50','53','54'},num=0},
--8 RH
  {cards={'8','13','30','33','42','48','56'},num=0},
--9 R
  {cards={'2','3','16','24','25','27','58','60'},num=0},
--10 RS
  {cards={'SV121','SV122'},num=0},
--11 AR
  {cards={'17','21','46'},num=0},
--12 SV Vmax
  {cards={'SV106','SV107','SV109','SV111','SV113','SV117','SV119'},num=0},
--13 SV V
  {cards={'SV105','SV108','SV110','SV112','SV114','SV115','SV116','SV118','SV120'},num=0},
--14 SV
  {cards={{"1","104"}},prefix="SV",digits=3,size=104,num=0},
--15 rev
  {cards={{'1','8'},{'11','16'},'20',{'22','36'},{'40','43'},{'47','49'},'52',{'56','63'}},size=46,num=0},
--16 C
  {cards={'1','4','6','11','14','20','22','26','29','31','35','36','40','41','43','47','49','52'},num=5},
}]]
pullRates=[[{
 {rates={
  {slot=3,odds=1/81.6},--RR
  {slot=4,odds=1/31.6},--FA sup
  {slot=5,odds=1/192.6},--alcreme
  {slot=6,odds=1/19.7},--Vmax
  {slot=7,odds=1/9},--V
  {slot=8,remaining=true,odds=0.4},--RH
  {slot=9}--R
 },num=1},
 {rates={
  {slot=10,odds=1/98.8},--RS
  {slot=11,odds=1/17.25},--AR
  {slot=12,odds=1/28},--SV VMax
  {slot=13,odds=1/16},--SV V
  {slot=14,odds=1/4.45},--SV
  {slot=15}--rev
 },num=1}
}]]
cardString=[[
cardData={["1"]={
 name="Yanma",
 GMN="00193000",
 typ="11",
 rar="C"
},
["2"]={
 name="Yanmega",
 GMN="00193500",
 typ="11",
 rar="R"
},
["3"]={
 name="Celebi",
 GMN="00251000",
 typ="11",
 rar="R"
},
["4"]={
 name="Cacnea",
 GMN="00331000",
 typ="11",
 rar="C"
},
["5"]={
 name="Tropius",
 GMN="00357000",
 typ="11",
 rar="U"
},
["6"]={
 name="Rowlet",
 GMN="00722000",
 typ="11",
 rar="C"
},
["7"]={
 name="Dartrix",
 GMN="00723000",
 typ="11",
 rar="U"
},
["8"]={
 name="Decidueye",
 GMN="00724000",
 typ="11",
 rar="RH"
},
["9"]={
 name="Dhelmise V",
 GMN="00781010",
 typ="11",
 rar="RHV"
},
["10"]={
 name="Dhelmise VMAX",
 GMN="00781011",
 typ="11",
 rar="RHVMAX"
},
["11"]={
 name="Grookey",
 GMN="00810000",
 typ="11",
 rar="C"
},
["12"]={
 name="Thwackey",
 GMN="00811000",
 typ="11",
 rar="U"
},
["13"]={
 name="Rillaboom",
 GMN="00812000",
 typ="11",
 rar="RH"
},
["14"]={
 name="Gossifleur",
 GMN="00829000",
 typ="11",
 rar="C"
},
["15"]={
 name="Eldegoss",
 GMN="00830000",
 typ="11",
 rar="U"
},
["16"]={
 name="Zarude",
 GMN="00893000",
 typ="11",
 rar="R"
},
["17"]={
 name="Reshiram",
 GMN="00643000",
 typ="22",
 rar="AR"
},
["18"]={
 name="Cinderace V",
 GMN="00815010",
 typ="22",
 rar="RHV"
},
["19"]={
 name="Cinderace VMAX",
 GMN="00815011",
 typ="22",
 rar="RHVMAX"
},
["20"]={
 name="Horsea",
 GMN="00116000",
 typ="33",
 rar="C"
},
["21"]={
 name="Kyogre",
 GMN="00382000",
 typ="33",
 rar="AR"
},
["22"]={
 name="Buizel",
 GMN="00418000",
 typ="33",
 rar="C"
},
["23"]={
 name="Floatzel",
 GMN="00419000",
 typ="33",
 rar="U"
},
["24"]={
 name="Manaphy",
 GMN="00490000",
 typ="33",
 rar="R"
},
["25"]={
 name="Volcanion",
 GMN="00721000",
 typ="33",
 rar="R"
},
["26"]={
 name="Chewtle",
 GMN="00833000",
 typ="33",
 rar="C"
},
["27"]={
 name="Drednaw",
 GMN="00834000",
 typ="33",
 rar="R"
},
["28"]={
 name="Cramorant",
 GMN="00845000",
 typ="33",
 rar="U"
},
["29"]={
 name="Snom",
 GMN="00872000",
 typ="33",
 rar="C"
},
["30"]={
 name="Frosmoth",
 GMN="00873000",
 typ="33",
 rar="RH"
},
["31"]={
 name="Shinx",
 GMN="00403000",
 typ="44",
 rar="C"
},
["32"]={
 name="Luxio",
 GMN="00404000",
 typ="44",
 rar="U"
},
["33"]={
 name="Luxray",
 GMN="00405000",
 typ="44",
 rar="RH"
},
["34"]={
 name="Rotom",
 GMN="00479000",
 typ="44",
 rar="U"
},
["35"]={
 name="Morpeko",
 GMN="00877000",
 typ="44",
 rar="C"
},
["36"]={
 name="Morpeko",
 GMN="00877000",
 typ="44",
 rar="C"
},
["37"]={
 name="Morpeko V",
 GMN="00877010",
 typ="44",
 rar="RHV"
},
["38"]={
 name="Morpeko VMAX",
 GMN="00877011",
 typ="44",
 rar="RHVMAX"
},
["39"]={
 name="Indeedee V",
 GMN="00876010",
 typ="55",
 rar="RHV"
},
["40"]={
 name="Trapinch",
 GMN="00328000",
 typ="66",
 rar="C"
},
["41"]={
 name="Koffing",
 GMN="00109000",
 typ="77",
 rar="C"
},
["42"]={
 name="Galarian Weezing",
 GMN="00110000",
 typ="77",
 rar="RH"
},
["43"]={
 name="Spinarak",
 GMN="00167000",
 typ="77",
 rar="C"
},
["44"]={
 name="Crobat V",
 GMN="00042510",
 typ="77",
 rar="RHV"
},
["45"]={
 name="Crobat VMAX",
 GMN="00042511",
 typ="77",
 rar="RHVMAX"
},
["46"]={
 name="Yveltal",
 GMN="00717000",
 typ="77",
 rar="AR"
},
["47"]={
 name="Nickit",
 GMN="00827000",
 typ="77",
 rar="C"
},
["48"]={
 name="Thievul",
 GMN="00828000",
 typ="77",
 rar="RH"
},
["49"]={
 name="Cufant",
 GMN="00878000",
 typ="88",
 rar="C"
},
["50"]={
 name="Ditto V",
 GMN="00132010",
 typ="121",
 rar="RHV"
},
["51"]={
 name="Ditto VMAX",
 GMN="00132011",
 typ="121",
 rar="RHVMAX"
},
["52"]={
 name="Eevee",
 GMN="00133000",
 typ="121",
 rar="C"
},
["53"]={
 name="Greedent V",
 GMN="00820010",
 typ="121",
 rar="RHV"
},
["54"]={
 name="Cramorant V",
 GMN="00845010",
 typ="121",
 rar="RHV"
},
["55"]={
 name="Cramorant VMAX",
 GMN="00845011",
 typ="121",
 rar="RHVMAX"
},
["56"]={
 name="Indeedee",
 GMN="00876000",
 typ="121",
 rar="RH"
},
["57"]={
 name="Ball Guy",
 GMN="40000000",
 typ="500",
 rar="U"
},
["58"]={
 name="Boss's Orders",
 GMN="40000000",
 typ="500",
 rar="R"
},
["59"]={
 name="Gym Trainer",
 GMN="40000000",
 typ="500",
 rar="U"
},
["60"]={
 name="Professor's Research",
 GMN="40000000",
 typ="500",
 rar="R"
},
["61"]={
 name="Rusted Shield",
 GMN="60000000",
 typ="500",
 rar="U"
},
["62"]={
 name="Rusted Sword",
 GMN="60000000",
 typ="500",
 rar="U"
},
["63"]={
 name="Team Yell Towel",
 GMN="30000000",
 typ="500",
 rar="U"
},
["64"]={
 name="Alcremie V",
 GMN="00869010",
 typ="55",
 rar="RU"
},
["65"]={
 name="Ball Guy",
 GMN="40000000",
 typ="500",
 rar="RU"
},
["66"]={
 name="Bird Keeper",
 GMN="40000000",
 typ="500",
 rar="RU"
},
["67"]={
 name="Cara Liss",
 GMN="40000000",
 typ="500",
 rar="RU"
},
["68"]={
 name="Gym Trainer",
 GMN="40000000",
 typ="500",
 rar="RU"
},
["69"]={
 name="Piers",
 GMN="40000000",
 typ="500",
 rar="RU"
},
["70"]={
 name="PokÃ© Kid",
 GMN="40000000",
 typ="500",
 rar="RU"
},
["71"]={
 name="Rose",
 GMN="40000000",
 typ="500",
 rar="RU"
},
["72"]={
 name="Skyla",
 GMN="40000000",
 typ="500",
 rar="RU"
},
["73"]={
 name="Alcremie VMAX",
 GMN="00869011",
 typ="55",
 rar="RR"
},
["SV001"]={
 name="Rowlet",
 GMN="00722000",
 typ="11",
 rar="RS",
 ID=13311
},
["SV002"]={
 name="Dartrix",
 GMN="00723000",
 typ="11",
 rar="RS",
 ID=13312
},
["SV003"]={
 name="Decidueye",
 GMN="00724000",
 typ="11",
 rar="RS",
 ID=13313
},
["SV004"]={
 name="Grookey",
 GMN="00810000",
 typ="11",
 rar="RS",
 ID=13314
},
["SV005"]={
 name="Thwackey",
 GMN="00811000",
 typ="11",
 rar="RS",
 ID=13315
},
["SV006"]={
 name="Rillaboom",
 GMN="00812000",
 typ="11",
 rar="RS",
 ID=13316
},
["SV007"]={
 name="Blipbug",
 GMN="00824000",
 typ="11",
 rar="RS",
 ID=13317
},
["SV008"]={
 name="Dottler",
 GMN="00825000",
 typ="11",
 rar="RS",
 ID=13318
},
["SV009"]={
 name="Orbeetle",
 GMN="00826000",
 typ="11",
 rar="RS",
 ID=13319
},
["SV010"]={
 name="Gossifleur",
 GMN="00829000",
 typ="11",
 rar="RS",
 ID=13320
},
["SV011"]={
 name="Eldegoss",
 GMN="00830000",
 typ="11",
 rar="RS",
 ID=13321
},
["SV012"]={
 name="Applin",
 GMN="00840000",
 typ="11",
 rar="RS",
 ID=13322
},
["SV013"]={
 name="Flapple",
 GMN="00841000",
 typ="11",
 rar="RS",
 ID=13323
},
["SV014"]={
 name="Appletun",
 GMN="00842000",
 typ="11",
 rar="RS",
 ID=13324
},
["SV015"]={
 name="Scorbunny",
 GMN="00813000",
 typ="22",
 rar="RS",
 ID=13325
},
["SV016"]={
 name="Raboot",
 GMN="00814000",
 typ="22",
 rar="RS",
 ID=13326
},
["SV017"]={
 name="Cinderace",
 GMN="00815000",
 typ="22",
 rar="RS",
 ID=13327
},
["SV018"]={
 name="Sizzlipede",
 GMN="00850000",
 typ="22",
 rar="RS",
 ID=13328
},
["SV019"]={
 name="Centiskorch",
 GMN="00851000",
 typ="22",
 rar="RS",
 ID=13329
},
["SV020"]={
 name="Galarian Mr. Mime",
 GMN="00122000",
 typ="33",
 rar="RS",
 ID=13330
},
["SV021"]={
 name="Galarian Mr. Rime",
 GMN="00122500",
 typ="33",
 rar="RS",
 ID=13331
},
["SV022"]={
 name="Suicune",
 GMN="00245000",
 typ="33",
 rar="RS",
 ID=13332
},
["SV023"]={
 name="Galarian Darumaka",
 GMN="00554000",
 typ="33",
 rar="RS",
 ID=13333
},
["SV024"]={
 name="Galarian Darmanitan",
 GMN="00555000",
 typ="33",
 rar="RS",
 ID=13334
},
["SV025"]={
 name="Sobble",
 GMN="00816000",
 typ="33",
 rar="RS",
 ID=13335
},
["SV026"]={
 name="Drizzile",
 GMN="00817000",
 typ="33",
 rar="RS",
 ID=13336
},
["SV027"]={
 name="Inteleon",
 GMN="00818000",
 typ="33",
 rar="RS",
 ID=13337
},
["SV028"]={
 name="Chewtle",
 GMN="00833000",
 typ="33",
 rar="RS",
 ID=13338
},
["SV029"]={
 name="Drednaw",
 GMN="00834000",
 typ="33",
 rar="RS",
 ID=13339
},
["SV030"]={
 name="Cramorant",
 GMN="00845000",
 typ="33",
 rar="RS",
 ID=13340
},
["SV031"]={
 name="Arrokuda",
 GMN="00846000",
 typ="33",
 rar="RS",
 ID=13341
},
["SV032"]={
 name="Barraskewda",
 GMN="00847000",
 typ="33",
 rar="RS",
 ID=13342
},
["SV033"]={
 name="Snom",
 GMN="00872000",
 typ="33",
 rar="RS",
 ID=13343
},
["SV034"]={
 name="Frosmoth",
 GMN="00873000",
 typ="33",
 rar="RS",
 ID=13344
},
["SV035"]={
 name="Eiscue",
 GMN="00875000",
 typ="33",
 rar="RS",
 ID=13345
},
["SV036"]={
 name="Dracovish",
 GMN="00882000",
 typ="33",
 rar="RS",
 ID=13346
},
["SV037"]={
 name="Arctovish",
 GMN="00883000",
 typ="33",
 rar="RS",
 ID=13347
},
["SV038"]={
 name="Rotom",
 GMN="00479000",
 typ="44",
 rar="RS",
 ID=13348
},
["SV039"]={
 name="Yamper",
 GMN="00835000",
 typ="44",
 rar="RS",
 ID=13349
},
["SV040"]={
 name="Boltund",
 GMN="00836000",
 typ="44",
 rar="RS",
 ID=13350
},
["SV041"]={
 name="Toxel",
 GMN="00848000",
 typ="44",
 rar="RS",
 ID=13351
},
["SV042"]={
 name="Toxtricity",
 GMN="00849000",
 typ="44",
 rar="RS",
 ID=13352
},
["SV043"]={
 name="Pincurchin",
 GMN="00871000",
 typ="44",
 rar="RS",
 ID=13353
},
["SV044"]={
 name="Morpeko",
 GMN="00877000",
 typ="44",
 rar="RS",
 ID=13354
},
["SV045"]={
 name="Dracozolt",
 GMN="00880000",
 typ="44",
 rar="RS",
 ID=13355
},
["SV046"]={
 name="Arctozolt",
 GMN="00881000",
 typ="44",
 rar="RS",
 ID=13356
},
["SV047"]={
 name="Galarian Ponyta",
 GMN="00077000",
 typ="55",
 rar="RS",
 ID=13357
},
["SV048"]={
 name="Galarian Rapidash",
 GMN="00078000",
 typ="55",
 rar="RS",
 ID=13358
},
["SV049"]={
 name="Galarian Corsola",
 GMN="00222000",
 typ="55",
 rar="RS",
 ID=13359
},
["SV050"]={
 name="Galarian Cursola",
 GMN="00222500",
 typ="55",
 rar="RS",
 ID=13360
},
["SV051"]={
 name="Dedenne",
 GMN="00702000",
 typ="55",
 rar="RS",
 ID=13361
},
["SV052"]={
 name="Sinistea",
 GMN="00854000",
 typ="55",
 rar="RS",
 ID=13362
},
["SV053"]={
 name="Polteageist",
 GMN="00855000",
 typ="55",
 rar="RS",
 ID=13363
},
["SV054"]={
 name="Hatenna",
 GMN="00856000",
 typ="55",
 rar="RS",
 ID=13364
},
["SV055"]={
 name="Hattrem",
 GMN="00857000",
 typ="55",
 rar="RS",
 ID=13365
},
["SV056"]={
 name="Hatterene",
 GMN="00858000",
 typ="55",
 rar="RS",
 ID=13366
},
["SV057"]={
 name="Milcery",
 GMN="00868000",
 typ="55",
 rar="RS",
 ID=13367
},
["SV058"]={
 name="Alcremie",
 GMN="00869000",
 typ="55",
 rar="RS",
 ID=13368
},
["SV059"]={
 name="Indeedee",
 GMN="00876000",
 typ="55",
 rar="RS",
 ID=13369
},
["SV060"]={
 name="Dreepy",
 GMN="00885000",
 typ="55",
 rar="RS",
 ID=13370
},
["SV061"]={
 name="Drakloak",
 GMN="00886000",
 typ="55",
 rar="RS",
 ID=13371
},
["SV062"]={
 name="Dragapult",
 GMN="00887000",
 typ="55",
 rar="RS",
 ID=13372
},
["SV063"]={
 name="Galarian Farfetch'd",
 GMN="00083000",
 typ="66",
 rar="RS",
 ID=13373
},
["SV064"]={
 name="Galarian Sirfetch'd",
 GMN="00082700",
 typ="66",
 rar="RS",
 ID=13374
},
["SV065"]={
 name="Galarian Yamask",
 GMN="00562000",
 typ="66",
 rar="RS",
 ID=13375
},
["SV066"]={
 name="Galarian Runerigus",
 GMN="00563500",
 typ="66",
 rar="RS",
 ID=13376
},
["SV067"]={
 name="Rolycoly",
 GMN="00837000",
 typ="66",
 rar="RS",
 ID=13377
},
["SV068"]={
 name="Carkol",
 GMN="00838000",
 typ="66",
 rar="RS",
 ID=13378
},
["SV069"]={
 name="Coalossal",
 GMN="00839000",
 typ="66",
 rar="RS",
 ID=13379
},
["SV070"]={
 name="Silicobra",
 GMN="00843000",
 typ="66",
 rar="RS",
 ID=13380
},
["SV071"]={
 name="Sandaconda",
 GMN="00844000",
 typ="66",
 rar="RS",
 ID=13381
},
["SV072"]={
 name="Clobbopus",
 GMN="00852000",
 typ="66",
 rar="RS",
 ID=13382
},
["SV073"]={
 name="Grapploct",
 GMN="00853000",
 typ="66",
 rar="RS",
 ID=13383
},
["SV074"]={
 name="Falinks",
 GMN="00870000",
 typ="66",
 rar="RS",
 ID=13384
},
["SV075"]={
 name="Stonjourner",
 GMN="00874000",
 typ="66",
 rar="RS",
 ID=13385
},
["SV076"]={
 name="Koffing",
 GMN="00109000",
 typ="77",
 rar="RS",
 ID=13386
},
["SV077"]={
 name="Galarian Weezing",
 GMN="00110000",
 typ="77",
 rar="RS",
 ID=13387
},
["SV078"]={
 name="Galarian Zigzagoon",
 GMN="00263000",
 typ="77",
 rar="RS",
 ID=13388
},
["SV079"]={
 name="Galarian Linoone",
 GMN="00264000",
 typ="77",
 rar="RS",
 ID=13389
},
["SV080"]={
 name="Galarian Obstagoon",
 GMN="00264500",
 typ="77",
 rar="RS",
 ID=13390
},
["SV081"]={
 name="Nickit",
 GMN="00827000",
 typ="77",
 rar="RS",
 ID=13391
},
["SV082"]={
 name="Thievul",
 GMN="00828000",
 typ="77",
 rar="RS",
 ID=13392
},
["SV083"]={
 name="Impidimp",
 GMN="00859000",
 typ="77",
 rar="RS",
 ID=13393
},
["SV084"]={
 name="Morgrem",
 GMN="00860000",
 typ="77",
 rar="RS",
 ID=13394
},
["SV085"]={
 name="Grimmsnarl",
 GMN="00861000",
 typ="77",
 rar="RS",
 ID=13395
},
["SV086"]={
 name="Galarian Meowth",
 GMN="00052000",
 typ="88",
 rar="RS",
 ID=13396
},
["SV087"]={
 name="Galarian Perrserker",
 GMN="00053500",
 typ="88",
 rar="RS",
 ID=13397
},
["SV088"]={
 name="Galarian Stunfisk",
 GMN="00618000",
 typ="88",
 rar="RS",
 ID=13398
},
["SV089"]={
 name="Corviknight",
 GMN="00823000",
 typ="88",
 rar="RS",
 ID=13399
},
["SV090"]={
 name="Cufant",
 GMN="00878000",
 typ="88",
 rar="RS",
 ID=13400
},
["SV091"]={
 name="Copperajah",
 GMN="00879000",
 typ="88",
 rar="RS",
 ID=13401
},
["SV092"]={
 name="Duraludon",
 GMN="00884000",
 typ="88",
 rar="RS",
 ID=13402
},
["SV093"]={
 name="Minccino",
 GMN="00572000",
 typ="121",
 rar="RS",
 ID=13403
},
["SV094"]={
 name="Cinccino",
 GMN="00573000",
 typ="121",
 rar="RS",
 ID=13404
},
["SV095"]={
 name="Ducklett",
 GMN="00580000",
 typ="121",
 rar="RS",
 ID=13405
},
["SV096"]={
 name="Swanna",
 GMN="00581000",
 typ="121",
 rar="RS",
 ID=13406
},
["SV097"]={
 name="Bunnelby",
 GMN="00659000",
 typ="121",
 rar="RS",
 ID=13407
},
["SV098"]={
 name="Oranguru",
 GMN="00765000",
 typ="121",
 rar="RS",
 ID=13408
},
["SV099"]={
 name="Skwovet",
 GMN="00819000",
 typ="121",
 rar="RS",
 ID=13409
},
["SV100"]={
 name="Greedent",
 GMN="00820000",
 typ="121",
 rar="RS",
 ID=13410
},
["SV101"]={
 name="Rookidee",
 GMN="00821000",
 typ="121",
 rar="RS",
 ID=13411
},
["SV102"]={
 name="Corvisquire",
 GMN="00822000",
 typ="121",
 rar="RS",
 ID=13412
},
["SV103"]={
 name="Wooloo",
 GMN="00831000",
 typ="121",
 rar="RS",
 ID=13413
},
["SV104"]={
 name="Dubwool",
 GMN="00832000",
 typ="121",
 rar="RS",
 ID=13414
},
["SV105"]={
 name="Rillaboom V",
 GMN="00812010",
 typ="11",
 rar="RHV",
 ID=13415
},
["SV106"]={
 name="Rillaboom VMAX",
 GMN="00812011",
 typ="11",
 rar="RHVMAX",
 ID=13416
},
["SV107"]={
 name="Charizard VMAX",
 GMN="00006011",
 typ="22",
 rar="RHVMAX",
 ID=13417
},
["SV108"]={
 name="Centiskorch V",
 GMN="00851010",
 typ="22",
 rar="RHV",
 ID=13418
},
["SV109"]={
 name="Centiskorch VMAX",
 GMN="00851011",
 typ="22",
 rar="RHVMAX",
 ID=13419
},
["SV110"]={
 name="Lapras V",
 GMN="00131010",
 typ="33",
 rar="RHV",
 ID=13420
},
["SV111"]={
 name="Lapras VMAX",
 GMN="00131011",
 typ="33",
 rar="RHVMAX",
 ID=13421
},
["SV112"]={
 name="Toxtricity V",
 GMN="00849010",
 typ="44",
 rar="RHV",
 ID=13422
},
["SV113"]={
 name="Toxtricity VMAX",
 GMN="00849011",
 typ="44",
 rar="RHVMAX",
 ID=13423
},
["SV114"]={
 name="Indeedee V",
 GMN="00876010",
 typ="55",
 rar="RHV",
 ID=13424
},
["SV115"]={
 name="Falinks V",
 GMN="00870010",
 typ="66",
 rar="RHV",
 ID=13425
},
["SV116"]={
 name="Grimmsnarl V",
 GMN="00861010",
 typ="77",
 rar="RHV",
 ID=13426
},
["SV117"]={
 name="Grimmsnarl VMAX",
 GMN="00861011",
 typ="77",
 rar="RHVMAX",
 ID=13427
},
["SV118"]={
 name="Ditto V",
 GMN="00132010",
 typ="121",
 rar="RHV",
 ID=13428
},
["SV119"]={
 name="Ditto VMAX",
 GMN="00132011",
 typ="121",
 rar="RHVMAX",
 ID=13429
},
["SV120"]={
 name="Dubwool V",
 GMN="00832010",
 typ="121",
 rar="RHV",
 ID=13430
},
["SV121"]={
 name="Eternatus V",
 GMN="00890010",
 typ="77",
 rar="RS",
 ID=13431
},
["SV122"]={
 name="Eternatus VMAX",
 GMN="00890011",
 typ="77",
 rar="RS",
 ID=13432
}}
]]
energyString=[[energy={
["1"]={
 name="Grass Energy",
 GMN="90000000",
 typ="500",
 num="",
 setName="Sword & Shield Energy",
 steamUrl="1832405798628838691/9F72772F0F21C4F6455D35CDDA7C0387D2C344CD",
 date="20200207",
 ID=14661
},
["2"]={
 name="Fire Energy",
 GMN="90000000",
 typ="500",
 num="",
 setName="Sword & Shield Energy",
 steamUrl="1832405798628839998/882EB1317DC1D12FF4994221E57FE41B4ECF8D70",
 date="20200207",
 ID=14662
},
["3"]={
 name="Water Energy",
 GMN="90000000",
 typ="500",
 num="",
 setName="Sword & Shield Energy",
 steamUrl="1832405798628840522/64FB79B3C680D7B11BAEFD367E03115243508AC2",
 date="20200207",
 ID=14663
},
["4"]={
 name="Lightning Energy",
 GMN="90000000",
 typ="500",
 num="",
 setName="Sword & Shield Energy",
 steamUrl="1832405798628842568/67A8211D36AE2FF603C7A4B775C894EA25EA9155",
 date="20200207",
 ID=14664
},
["5"]={
 name="Psychic Energy",
 GMN="90000000",
 typ="500",
 num="",
 setName="Sword & Shield Energy",
 steamUrl="1832405798628843075/407375AECC10AD4150F2C70FBB63A0BAC0A9AE05",
 date="20200207",
 ID=14665
},
["6"]={
 name="Fighting Energy",
 GMN="90000000",
 typ="500",
 num="",
 setName="Sword & Shield Energy",
 steamUrl="1832405798628843991/B1DDC67C84E0E0E1527F85058DCDF038DB9D8663",
 date="20200207",
 ID=14666
},
["7"]={
 name="Darkness Energy",
 GMN="90000000",
 typ="500",
 num="",
 setName="Sword & Shield Energy",
 steamUrl="1832405798628844608/70C62511CA9F2631D1E1DE691F4099A8102EE7EC",
 date="20200207",
 ID=14667
},
["8"]={
 name="Metal Energy",
 GMN="90000000",
 typ="500",
 num="",
 setName="Sword & Shield Energy",
 steamUrl="1832405798628845093/EC66EEED31A9BAB8CCEDBB7152B0B4EC4C9D6F55",
 date="20200207",
 ID=14668
}}
]]
boxScript=[[
 function onLoad(state)
 curColumn=tonumber(state)or 9
 local params={
  function_owner=self,
  font_size=180,
  width=1500,
  height=220,
  position={0,1,3.5},
  tooltip="The number of packs per column",
  value=tostring(curColumn),
  alignment=3,
  input_function="SetColumn",
  font_color={0,0,0},
 }
 self.createInput(params)
 butWrapper(params,{0,1,2.5},"Spread Compact","Spreads the contained objects close together","SpreadCompact")
 butWrapper(params,{0,1,3},"Spread Wide","Spreads the packs wide enough to not collide when opening.","SpreadWide")
end

function butWrapper(params,pos,label,tool,func)
 params.position=pos
 params.label=label
 params.tooltip=tool
 params.click_function=func
 self.createButton(params)
end

function SetColumn(obj,color,value,selected)
 if not selected then
  curColumn=checkIfNum(value,1000,curColumn,color)
  self.script_state=tostring(curColumn)
  return tostring(curColumn)
 end
end

function checkIfNum(value,max,current,color)
 local numValue=tonumber(value)
 if numValue!=nil then
  numValue=math.floor(numValue)
  if numValue>0 then
   if numValue<=max then return numValue else broadcastToColor("Enter a lower number.",color,{1,0,0})end
  else broadcastToColor("Enter a number above 0.",color,{1,0,0})end
 else broadcastToColor("Enter a number.",color,{1,0,0})end
 return current
end

function SpreadCompact()
 Spread(-4)
end

function SpreadWide()
 Spread(-50)
end

function Spread(width)
 for c,pack in pairs(self.getObjects())do
  self.takeObject({position=self.positionToWorld({width*math.floor((c-1)/curColumn),1,7+6*((c-1)%curColumn)}),smooth=true})
 end
end
]]

packData={}

function onObjectLeaveContainer(cont,leaving)
 if cont~=self then return end
 leaving.setCustomObject({diffuse=getRandomArt()})
 leaving.setLuaScript(cardString.."\n"..leaving.getLuaScript())
 leaving.setLuaScript(energyString.."\n"..leaving.getLuaScript())
 leaving.setLuaScript(dataString.."\n"..leaving.getLuaScript())
end

function onNumberTyped(color,num)--credit Eldin
 for x=1,num do Wait.frames(function()self.deal(1,color)end,x)end
 return true
end

function makeDataString()
 local str='\ndataString=[[\ndropSlots='..dropSlots..'\npullRates='..pullRates..'\nsetName="'..setName..'"\nsetID="'..setID..'"\nDeckID="'..DeckID..'"\ndate="'..date..'"\n'
 if subSetID then
  str=str..'\nsubSetName="'..subSetName..'"\nsubSetID="'..subSetID..'"\nsubSetPre="'..subSetPre..'"\n'
 end if godChance then
  str=str..'\ngodChance='..tostring(godChance)..'\ngodSlot='..tostring(godSlot)..'\ngodPacks='..godPacks..'\n'
 end
 str=str.."]]"
 self.setLuaScript(self.getLuaScript()..str)
 self.Reload()
end

function onLoad(state)
 settings=Global.GetTable("PPacks")
 if state and state~="" then
  state=json.parse(state)
  curSet=state.set or 1
 else
  curSet=1
 end
 if not settings then
  if state.settings then settings=state.settings else settings={energy=1,on=true,spread=false,hundred=false,debug=false,slotTest=false,allGods=false}end
  Global.SetTable("PPacks",settings)
 end
 self.max_typed_number=99
 saveData()
 setUpButtons()
 if not cardData then
  self.setLuaScript(self.getLuaScript()..cardString)
  makeDataString()
 end
end

function setUpButtons()
 local params={
 function_owner=self,
 width=3500,
 height=500,
 font_size=450,
 }
 butWrapper(params,{0,0.1,3},'Get Whole Set',"","getSet")
 if pullRates and not noBox then
  butWrapper(params,{0,0.1,4},'Get a Box',"","getBox")
 end
end

function butWrapper(params,pos,label,tool,func)
 params.position=pos
 params.label=label
 params.tooltip=tool
 params.click_function=func
 self.createButton(params)
end

function getSet(obj,color,alt)
 local spawnPos=self.positionToWorld({0,1,7})
 packData=getDeckData(spawnPos,self.getRotation(),false)
 for num,card in pairs(cardData) do
  addCard(num,card)
 end
 local deck=spawnObjectData({data=packData})
end

function getCardData(num)
 if startsWith(num,"E")then
  return energy[num:sub(2)]
 elseif num=="VStar"then
  return energy["VStar"]
 end
 return cardData[num]
end

function getTrueNumber(num,card)
 if card.num then return card.num end
 if startsWith(num,"E")then return num:sub(2)else return num end
end

function removeLeadingZeros(num)
 if tonumber(num)then return string.format("%u", num)else return num end
end

function getDeckID(num,card)
 return card.ID or DeckID+tonumber(getTrueNumber(num,card))
end

function addCard(num,card)
 packData.DeckIDs[#packData.DeckIDs+1]=getDeckID(num,card)*100
 packData.CustomDeck[getDeckID(num,card)]=getCustomData(getTrueNumber(num,card),card)
 packData.ContainedObjects[#packData.ContainedObjects+1]=getCardTable(packData.Transform,num,card)
end

function getCardTable(trans,num,card)
 local des=card.setName
 if not des then
  if subSetID and startsWith(num,subSetPre)then
   des=subSetName
  else
   des=setName
  end
 end
 if card.num!=""then
  des=des.." #"..getTrueNumber(num,card)
 end
 if card.rar then
  des=des.." "..card.rar
 end
 return{Name="CardCustom",
 Transform=trans,
 Nickname=card.name,
 Description=des,
 GMNotes=card.GMN,
 Memo=(card.date or date)..buildCardNumber(num,3),
 CardID=getDeckID(num,card)*100,
 CustomDeck={[getDeckID(num,card)]=getCustomData(num,card)},
 LuaScriptState=card.typ
}
end

function getCustomData(num,card)
 local image=card.image
 if not image then
  if card.steamUrl then
   image=getSteamUrl(card.steamUrl)
  else
   local ID=setID
   if subSetID and startsWith(num,subSetPre) then
    ID=subSetID
   end
   image="https://images.pokemontcg.io/"..ID.."/"..removeLeadingZeros(getTrueNumber(num,card)).."_hires.png?count="..buildCardNumber(num,1)
  end
 end
 return{FaceURL=image,
  BackURL=card.back or"https://steamusercontent-a.akamaihd.net/ugc/809997459557414686/9ABD9158841F1167D295FD1295D7A597E03A7487/",
  NumWidth=1,
  NumHeight=1,
  BackIsHidden=true
 }
end

function buildCardNumber(cardNum,minDigit)
 if cardNum then
  local numOnly=string.gsub(cardNum,"[^%d]","")
  if numOnly~=cardNum then
   local finalNum=(tonumber(numOnly)or 0)+500
   for c in cardNum:gmatch"[^%d]" do
    if c=="?"then c="}"end
    if c=="!"then c="{"end
    finalNum=string.byte(c)-65+finalNum
   end
   cardNum=tostring(finalNum)
  end
 else
  cardNum="0"
 end
 while #cardNum<minDigit do cardNum="0"..cardNum end
 return cardNum
end

function getBox(obj,color,alt)
 local spawnPos=self.positionToWorld({0,1,7})
 local boxRot=self.GetRotation()
 local boxTrans={posX=spawnPos[1],posY=spawnPos[2],posZ=spawnPos[3],rotX=boxRot.x,rotY=boxRot.y,rotZ=boxRot.z,scaleX=0.5,scaleY=0.5,scaleZ=0.5}
 boxData={Name="Custom_Model_Bag",
  Transform=boxTrans,
  CustomMesh=self.getData().CustomMesh,
  ContainedObjects={},
  LuaScript=boxScript
 }
 boxData.CustomMesh.TypeIndex=6
 selfRot=self.GetRotation()
 packScript=dataString..self.getData().ContainedObjects[1].LuaScript
 if boxPulls then
  boxID=math.random(-2147483648,2147483646)
  packScript='boxPulls='..boxPulls..'\nboxID='..tostring(boxID)..'\n'..packScript
 end
 for c=1,36 do
  local packInBox=self.getData().ContainedObjects[1]
  packInBox.Transform=boxTrans
  packInBox.LuaScript='packNum='..tostring(c)..'\n'..packScript
  packInBox.CustomMesh.DiffuseURL=getRandomArt()
  boxData.ContainedObjects[c]=packInBox
 end
 spawnObjectData({data=boxData,position=spawnPos,rotation=self.GetRotation()})
end

function getSteamUrl(url)
 if url then return"https://steamusercontent-a.akamaihd.net/ugc/"..url.."/"end
end

function saveData()
 self.script_state=json.serialize({set=curSet,settings=settings})
end

function getRandomArt()
 return getSteamUrl(art[math.random(1,#art)])
end

function startsWith(input,prefix)
 if not prefix then return false end
 return string.sub(input,1,#prefix)==prefix
end

function getDeckData(spawnPos,cardRot,hands)
 return {Name="Deck",
  Transform={posX=spawnPos[1],posY=spawnPos[2],posZ=spawnPos[3],rotX=cardRot[1],rotY=cardRot[2],rotZ=cardRot[3],scaleX=1,scaleY=1,scaleZ=1},
  Hands=hands,
  DeckIDs={},
  CustomDeck={},
  ContainedObjects={}
 }
end
